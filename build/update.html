<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .column {
  float: left;
  width: 33.33%;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}
  </style>
</head>
<body>
  <div id="add-showings">
    <h1>Add showings:</h1>
    <a>Please enter the first and last day these movies will be playing in YYYYMMDD format</h2>
    <br>
    <a>Start</a>
    <input id="addstartday" placeholder="YYYYMMDD">
    <a>End</a>
    <input id="addendday" placeholder="YYYYMMDD">
    <br>
    <a>Num Movies Playing:</a><input id="numplaying" value="2">
    <br>
    <div id="movie-inputs" class="row">
      <div class="column">
        <h2>Movie #1</h2>
        <a>Movie Name:</a><input id="name1">
        <br>
        <a>Poster URL:</a><input id="posterurl1">
        <br>
        <a>Genre(s):</a><input id="genre1">
        <br>
        <a>Runtime:</a><input placeholder="180min" id="runtime1">
        <br>
        <a>Daily Play Count:</a><input id="numshowtimes1">
        <br>
        <a>Time 1:</a><input id="showtime-11" value="3:30pm">
        <br>
        <a>Time 2:</a><input id="showtime-12" value="6:30pm">
        <br>
        <a>*OPTIONAL* Time 3:</a><input id="showtime-13">
        <br>
        <a style="display: flex;">Synopsis:</a><textarea id="synopsis1" style="width: 85%; height: 4rem"></textarea>
        <br>
      </div>
      <div class="column">
        <h2>Movie #2</h2>
        <a>Movie Name:</a><input id="name2">
        <br>
        <a>Poster URL:</a><input id="posterurl2">
        <br>
        <a>Genre(s):</a><input id="genre2">
        <br>
        <a>Runtime:</a><input placeholder="180min" id="runtime2">
        <br>
        <a>Daily Play Count:</a><input id="numshowtimes2">
        <br>
        <a>Time 1:</a><input id="showtime-21" value="4:00pm">
        <br>
        <a>Time 2:</a><input id="showtime-22" value="7:00pm">
        <br>
        <a>*OPTIONAL* Time 3:</a><input id="showtime-23">
        <br>
        <a style="display: flex;">Synopsis:</a><textarea id="synopsis1" style="width: 85%; height: 4rem"></textarea>
        <br>
      </div>
      <div class="column">
        <h2>Movie #3 *OPTIONAL - LEAVE BLANK*</h2>
        <a>Movie Name:</a><input id="name1">
        <br>
        <a>Poster URL:</a><input id="posterurl1">
        <br>
        <a>Genre(s):</a><input id="genre1">
        <br>
        <a>Runtime:</a><input placeholder="180min" id="runtime1">
        <br>
        <a>Daily Play Count:</a><input id="numshowtimes1">
        <br>
        <a>Time 1:</a><input id="showtime-31">
        <br>
        <a>Time 2:</a><input id="showtime-32">
        <br>
        <a>*OPTIONAL* Time 3:</a><input id="showtime-33">
        <br>
        <a style="display: flex;">Synopsis:</a><textarea id="synopsis1" style="width: 85%; height: 4rem"></textarea>
        <br>
      </div>
    </div> 
    <h2>Please input the authentication key</h2>
    <input id="addtoken">
    <br>
    <button id="adddata" style="width: 8%; height: 35px; margin-top: 10px;" onclick=addData()>SUBMIT SHOWINGS</button>
    <h3>Please wait confimration of data update</h3>
  </div>


  <div id="remove-showings" style="margin-top: 100px;">
    <h1>Remove Showings:</h1>
    <a>Please enter the first and last day you want to clear the values for</h2>
      <br>
      <a>Start</a>
      <input id="remstartday" placeholder="YYYYMMDD">
      <a>End</a>
      <input id="remendday" placeholder="YYYYMMDD">
      <br>
      <h2>Please input the authentication key</h2>
      <input id="remtoken">
      <br>
      <button id="removedata" style="width: 8%; height: 35px; margin-top: 10px;">DELETE VALUES</button>
      <b>*WARNING THIS WILL DELETE ALL DATA BETWEEN THE INPUTTED DATES**</b>
    </div>


  <div id="current-data" style="margin-top: 100px;">
    <h1>Current data:</h1>
    <h2>Whats Playing:</h2>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
    <a>Date</a><a style="margin-left: 50px;">Name</a><a style="margin-left: 50px;">3:30pm6:30pm</a><br>
  </div>


  <script>
function addData(){

var addstartday = document.getElementById('addstartday').value;
var addendday = document.getElementById('addendday').value;


// Get current data
var currentjson;
var myHeaders = new Headers();
myHeaders.append("X-Bin-Meta", "false");
myHeaders.append("X-Access-Key", "$2a$10$BspSYD24m65HzDUQ22O/zehzE9R9EPiXHQ5G7DrAPv4Y1LJM0I5E2");
var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow'
};
fetch("https://api.jsonbin.io/v3/b/65a9f3e8dc74654018961b2f", requestOptions)
  .then(res => res.json())
  .then(res => currentjson = JSON.stringify(res))
  .catch(error => console.log('error', error));


setTimeout(CurrentJsonDelay, 3000);

function CurrentJsonDelay() {
  console.log(typeof currentjson);



  // Send updated data

var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");
myHeaders.append("X-Bin-Meta", "false");
myHeaders.append("X-Access-Key", "$2a$10$ZKdUTyPaBuYHFzyEILtPp.3kGrRgfD5EDW8hrwMcw5i049HF7ARmK");


var raw = JSON.stringify({
  "discordId": "12355123",
  "account": "kja985hasf"
});

var requestOptions = {
  method: 'PUT',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("https://api.jsonbin.io/v3/b/65a9f3e8dc74654018961b2f", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));



}




/*
for(; addstartday <= addendday; addstartday++) {
  console.log("ADDING DAY " + addstartday);

  //JSON ADD:
  
}


const data = {
    date: {
      'movies': numplaying,
      'movie-1': {
        'name': name1,
        'posterurl': posterurl1,
        'synopsis': synopsis1,
        'genre': genre1,
        'runtime': runtime1,
        'numshowtimes': numshowtimes1,
        'showtime-1': showtime-11,
        'showtime-2': showtime-12,
        'showtime-3': showtime-13
      },
      "movie-2": {
        'name': name2,
        'posterurl': posterurl2,
        'synopsis': synopsis2,
        'genre': genre2,
        'runtime': runtime2,
        'numshowtimes': numshowtimes2,
        'showtime-1': showtime-21,
        'showtime-2': showtime-22,
        'showtime-3': showtime-23
      },
      "movie-3": {
        'name': name3,
        'posterurl': posterurl3,
        'synopsis': synopsis3,
        'genre': genre3,
        'runtime': runtime3,
        'numshowtimes': numshowtimes3,
        'showtime-1': showtime-31,
        'showtime-2': showtime-32,
        'showtime-3': showtime-33
      }
    }
  }
*/


}
  </script>
</body>
</html>